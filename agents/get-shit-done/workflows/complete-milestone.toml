prompt = "<purpose>\n\nMark a shipped version (v1.0, v1.1, v2.0) as complete. This creates a historical record in MILESTONES.md, performs full PROJECT.md evolution review, reorganizes ROADMAP.md with milestone groupings, and tags the release in git.\n\nThis is the ritual that separates \"development\" from \"shipped.\"\n\n</purpose>\n\n<required_reading>\n\n**Read these files NOW:**\n\n1. templates/milestone.md\n2. templates/milestone-archive.md\n3. `.planning/ROADMAP.md`\n4. `.planning/REQUIREMENTS.md`\n5. `.planning/PROJECT.md`\n\n</required_reading>\n\n<archival_behavior>\n\nWhen a milestone completes, this workflow:\n\n1. Extracts full milestone details to `.planning/milestones/v[X.Y]-ROADMAP.md`\n2. Archives requirements to `.planning/milestones/v[X.Y]-REQUIREMENTS.md`\n3. Updates ROADMAP.md to replace milestone details with one-line summary\n4. Deletes REQUIREMENTS.md (fresh one created for next milestone)\n5. Performs full PROJECT.md evolution review\n6. Offers to create next milestone inline\n\n**Context Efficiency:** Archives keep ROADMAP.md constant-size and REQUIREMENTS.md milestone-scoped.\n\n**Archive Format:**\n\n**ROADMAP archive** uses `templates/milestone-archive.md` template with:\n- Milestone header (status, phases, date)\n- Full phase details from roadmap\n- Milestone summary (decisions, issues, technical debt)\n\n**REQUIREMENTS archive** contains:\n- All v1 requirements marked complete with outcomes\n- Traceability table with final status\n- Notes on any requirements that changed during milestone\n\n</archival_behavior>\n\n<process>\n\n<step name=\"verify_readiness\">\n\nCheck if milestone is truly complete:\n\n```bash\ncat .planning/ROADMAP.md\nls .planning/phases/*/SUMMARY.md 2>/dev/null | wc -l\n```\n\n**Questions to ask:**\n\n- Which phases belong to this milestone?\n- Are all those phases complete (all plans have summaries)?\n- Has the work been tested/validated?\n- Is this ready to ship/tag?\n\nPresent:\n\n```\nMilestone: [Name from user, e.g., \"v1.0 MVP\"]\n\nAppears to include:\n- Phase 1: Foundation (2/2 plans complete)\n- Phase 2: Authentication (2/2 plans complete)\n- Phase 3: Core Features (3/3 plans complete)\n- Phase 4: Polish (1/1 plan complete)\n\nTotal: 4 phases, 8 plans, all complete\n```\n\n<config-check>\n\n```bash\ncat .planning/config.json 2>/dev/null\n```\n\n</config-check>\n\n<if mode=\"yolo\">\n\n```\n‚ö° Auto-approved: Milestone scope verification\n\n[Show breakdown summary without prompting]\n\nProceeding to stats gathering...\n```\n\nProceed directly to gather_stats step.\n\n</if>\n\n<if mode=\"interactive\" OR=\"custom with gates.confirm_milestone_scope true\">\n\n```\nReady to mark this milestone as shipped?\n(yes / wait / adjust scope)\n```\n\nWait for confirmation.\n\nIf \"adjust scope\": Ask which phases should be included.\nIf \"wait\": Stop, user will return when ready.\n\n</if>\n\n</step>\n\n<step name=\"gather_stats\">\n\nCalculate milestone statistics:\n\n```bash\n# Count phases and plans in milestone\n# (user specified or detected from roadmap)\n\n# Find git range\ngit log --oneline --grep=\"feat(\" | head -20\n\n# Count files modified in range\ngit diff --stat FIRST_COMMIT..LAST_COMMIT | tail -1\n\n# Count LOC (adapt to language)\nfind . -name \"*.swift\" -o -name \"*.ts\" -o -name \"*.py\" | xargs wc -l 2>/dev/null\n\n# Calculate timeline\ngit log --format=\"%ai\" FIRST_COMMIT | tail -1  # Start date\ngit log --format=\"%ai\" LAST_COMMIT | head -1   # End date\n```\n\nPresent summary:\n\n```\nMilestone Stats:\n- Phases: [X-Y]\n- Plans: [Z] total\n- Tasks: [N] total (estimated from phase summaries)\n- Files modified: [M]\n- Lines of code: [LOC] [language]\n- Timeline: [Days] days ([Start] ‚Üí [End])\n- Git range: feat(XX-XX) ‚Üí feat(YY-YY)\n```\n\n</step>\n\n<step name=\"extract_accomplishments\">\n\nRead all phase SUMMARY.md files in milestone range:\n\n```bash\ncat .planning/phases/01-*/01-*-SUMMARY.md\ncat .planning/phases/02-*/02-*-SUMMARY.md\n# ... for each phase in milestone\n```\n\nFrom summaries, extract 4-6 key accomplishments.\n\nPresent:\n\n```\nKey accomplishments for this milestone:\n1. [Achievement from phase 1]\n2. [Achievement from phase 2]\n3. [Achievement from phase 3]\n4. [Achievement from phase 4]\n5. [Achievement from phase 5]\n```\n\n</step>\n\n<step name=\"create_milestone_entry\">\n\nCreate or update `.planning/MILESTONES.md`.\n\nIf file doesn't exist:\n\n```markdown\n# Project Milestones: [Project Name from PROJECT.md]\n\n[New entry]\n```\n\nIf exists, prepend new entry (reverse chronological order).\n\nUse template from `templates/milestone.md`:\n\n```markdown\n## v[Version] [Name] (Shipped: YYYY-MM-DD)\n\n**Delivered:** [One sentence from user]\n\n**Phases completed:** [X-Y] ([Z] plans total)\n\n**Key accomplishments:**\n\n- [List from previous step]\n\n**Stats:**\n\n- [Files] files created/modified\n- [LOC] lines of [language]\n- [Phases] phases, [Plans] plans, [Tasks] tasks\n- [Days] days from [start milestone or start project] to ship\n\n**Git range:** `feat(XX-XX)` ‚Üí `feat(YY-YY)`\n\n**What's next:** [Ask user: what's the next goal?]\n\n---\n```\n\n</step>\n\n<step name=\"evolve_project_full_review\">\n\nPerform full PROJECT.md evolution review at milestone completion.\n\n**Read all phase summaries in this milestone:**\n\n```bash\ncat .planning/phases/*-*/*-SUMMARY.md\n```\n\n**Full review checklist:**\n\n1. **\"What This Is\" accuracy:**\n   - Read current description\n   - Compare to what was actually built\n   - Update if the product has meaningfully changed\n\n2. **Core Value check:**\n   - Is the stated core value still the right priority?\n   - Did shipping reveal a different core value?\n   - Update if the ONE thing has shifted\n\n3. **Requirements audit:**\n\n   **Validated section:**\n   - All Active requirements shipped in this milestone ‚Üí Move to Validated\n   - Format: `- ‚úì [Requirement] ‚Äî v[X.Y]`\n\n   **Active section:**\n   - Remove requirements that moved to Validated\n   - Add any new requirements for next milestone\n   - Keep requirements that weren't addressed yet\n\n   **Out of Scope audit:**\n   - Review each item ‚Äî is the reasoning still valid?\n   - Remove items that are no longer relevant\n   - Add any requirements invalidated during this milestone\n\n4. **Context update:**\n   - Current codebase state (LOC, tech stack)\n   - User feedback themes (if any)\n   - Known issues or technical debt to address\n\n5. **Key Decisions audit:**\n   - Extract all decisions from milestone phase summaries\n   - Add to Key Decisions table with outcomes where known\n   - Mark ‚úì Good, ‚ö†Ô∏è Revisit, or ‚Äî Pending for each\n\n6. **Constraints check:**\n   - Any constraints that changed during development?\n   - Update as needed\n\n**Update PROJECT.md:**\n\nMake all edits inline. Update \"Last updated\" footer:\n\n```markdown\n---\n*Last updated: [date] after v[X.Y] milestone*\n```\n\n**Example full evolution (v1.0 ‚Üí v1.1 prep):**\n\nBefore:\n\n```markdown\n## What This Is\n\nA real-time collaborative whiteboard for remote teams.\n\n## Core Value\n\nReal-time sync that feels instant.\n\n## Requirements\n\n### Validated\n\n(None yet ‚Äî ship to validate)\n\n### Active\n\n- [ ] Canvas drawing tools\n- [ ] Real-time sync < 500ms\n- [ ] User authentication\n- [ ] Export to PNG\n\n### Out of Scope\n\n- Mobile app ‚Äî web-first approach\n- Video chat ‚Äî use external tools\n```\n\nAfter v1.0:\n\n```markdown\n## What This Is\n\nA real-time collaborative whiteboard for remote teams with instant sync and drawing tools.\n\n## Core Value\n\nReal-time sync that feels instant.\n\n## Requirements\n\n### Validated\n\n- ‚úì Canvas drawing tools ‚Äî v1.0\n- ‚úì Real-time sync < 500ms ‚Äî v1.0 (achieved 200ms avg)\n- ‚úì User authentication ‚Äî v1.0\n\n### Active\n\n- [ ] Export to PNG\n- [ ] Undo/redo history\n- [ ] Shape tools (rectangles, circles)\n\n### Out of Scope\n\n- Mobile app ‚Äî web-first approach, PWA works well\n- Video chat ‚Äî use external tools\n- Offline mode ‚Äî real-time is core value\n\n## Context\n\nShipped v1.0 with 2,400 LOC TypeScript.\nTech stack: Next.js, Supabase, Canvas API.\nInitial user testing showed demand for shape tools.\n```\n\n**Step complete when:**\n\n- [ ] \"What This Is\" reviewed and updated if needed\n- [ ] Core Value verified as still correct\n- [ ] All shipped requirements moved to Validated\n- [ ] New requirements added to Active for next milestone\n- [ ] Out of Scope reasoning audited\n- [ ] Context updated with current state\n- [ ] All milestone decisions added to Key Decisions\n- [ ] \"Last updated\" footer reflects milestone completion\n\n</step>\n\n<step name=\"reorganize_roadmap\">\n\nUpdate `.planning/ROADMAP.md` to group completed milestone phases.\n\nAdd milestone headers and collapse completed work:\n\n```markdown\n# Roadmap: [Project Name]\n\n## Milestones\n\n- ‚úÖ **v1.0 MVP** ‚Äî Phases 1-4 (shipped YYYY-MM-DD)\n- üöß **v1.1 Security** ‚Äî Phases 5-6 (in progress)\n- üìã **v2.0 Redesign** ‚Äî Phases 7-10 (planned)\n\n## Phases\n\n<details>\n<summary>‚úÖ v1.0 MVP (Phases 1-4) ‚Äî SHIPPED YYYY-MM-DD</summary>\n\n- [x] Phase 1: Foundation (2/2 plans) ‚Äî completed YYYY-MM-DD\n- [x] Phase 2: Authentication (2/2 plans) ‚Äî completed YYYY-MM-DD\n- [x] Phase 3: Core Features (3/3 plans) ‚Äî completed YYYY-MM-DD\n- [x] Phase 4: Polish (1/1 plan) ‚Äî completed YYYY-MM-DD\n\n</details>\n\n### üöß v[Next] [Name] (In Progress / Planned)\n\n- [ ] Phase 5: [Name] ([N] plans)\n- [ ] Phase 6: [Name] ([N] plans)\n\n## Progress\n\n| Phase             | Milestone | Plans Complete | Status      | Completed  |\n| ----------------- | --------- | -------------- | ----------- | ---------- |\n| 1. Foundation     | v1.0      | 2/2            | Complete    | YYYY-MM-DD |\n| 2. Authentication | v1.0      | 2/2            | Complete    | YYYY-MM-DD |\n| 3. Core Features  | v1.0      | 3/3            | Complete    | YYYY-MM-DD |\n| 4. Polish         | v1.0      | 1/1            | Complete    | YYYY-MM-DD |\n| 5. Security Audit | v1.1      | 0/1            | Not started | -          |\n| 6. Hardening      | v1.1      | 0/2            | Not started | -          |\n```\n\n</step>\n\n<step name=\"archive_milestone\">\n\nExtract completed milestone details and create archive file.\n\n**Process:**\n\n1. Create archive file path: `.planning/milestones/v[X.Y]-ROADMAP.md`\n\n2. Read `/Users/filipefernandes/.gemini/get-shit-done/templates/milestone-archive.md` template\n\n3. Extract data from current ROADMAP.md:\n   - All phases belonging to this milestone (by phase number range)\n   - Full phase details (goals, plans, dependencies, status)\n   - Phase plan lists with completion checkmarks\n\n4. Extract data from PROJECT.md:\n   - Key decisions made during this milestone\n   - Requirements that were validated\n\n5. Fill template {{PLACEHOLDERS}}:\n   - {{VERSION}} ‚Äî Milestone version (e.g., \"1.0\")\n   - {{MILESTONE_NAME}} ‚Äî From ROADMAP.md milestone header\n   - {{DATE}} ‚Äî Today's date\n   - {{PHASE_START}} ‚Äî First phase number in milestone\n   - {{PHASE_END}} ‚Äî Last phase number in milestone\n   - {{TOTAL_PLANS}} ‚Äî Count of all plans in milestone\n   - {{MILESTONE_DESCRIPTION}} ‚Äî From ROADMAP.md overview\n   - {{PHASES_SECTION}} ‚Äî Full phase details extracted\n   - {{DECISIONS_FROM_PROJECT}} ‚Äî Key decisions from PROJECT.md\n   - {{ISSUES_RESOLVED_DURING_MILESTONE}} ‚Äî From summaries\n\n6. Write filled template to `.planning/milestones/v[X.Y]-ROADMAP.md`\n\n7. Delete ROADMAP.md (fresh one created for next milestone):\n   ```bash\n   rm .planning/ROADMAP.md\n   ```\n\n8. Verify archive exists:\n   ```bash\n   ls .planning/milestones/v[X.Y]-ROADMAP.md\n   ```\n\n9. Confirm roadmap archive complete:\n\n   ```\n   ‚úÖ v[X.Y] roadmap archived to milestones/v[X.Y]-ROADMAP.md\n   ‚úÖ ROADMAP.md deleted (fresh one for next milestone)\n   ```\n\n**Note:** Phase directories (`.planning/phases/`) are NOT deleted. They accumulate across milestones as the raw execution history. Phase numbering continues (v1.0 phases 1-4, v1.1 phases 5-8, etc.).\n\n</step>\n\n<step name=\"archive_requirements\">\n\nArchive requirements and prepare for fresh requirements in next milestone.\n\n**Process:**\n\n1. Read current REQUIREMENTS.md:\n   ```bash\n   cat .planning/REQUIREMENTS.md\n   ```\n\n2. Create archive file: `.planning/milestones/v[X.Y]-REQUIREMENTS.md`\n\n3. Transform requirements for archive:\n   - Mark all v1 requirements as `[x]` complete\n   - Add outcome notes where relevant (validated, adjusted, dropped)\n   - Update traceability table status to \"Complete\" for all shipped requirements\n   - Add \"Milestone Summary\" section with:\n     - Total requirements shipped\n     - Any requirements that changed scope during milestone\n     - Any requirements dropped and why\n\n4. Write archive file with header:\n   ```markdown\n   # Requirements Archive: v[X.Y] [Milestone Name]\n\n   **Archived:** [DATE]\n   **Status:** ‚úÖ SHIPPED\n\n   This is the archived requirements specification for v[X.Y].\n   For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).\n\n   ---\n\n   [Full REQUIREMENTS.md content with checkboxes marked complete]\n\n   ---\n\n   ## Milestone Summary\n\n   **Shipped:** [X] of [Y] v1 requirements\n   **Adjusted:** [list any requirements that changed during implementation]\n   **Dropped:** [list any requirements removed and why]\n\n   ---\n   *Archived: [DATE] as part of v[X.Y] milestone completion*\n   ```\n\n5. Delete original REQUIREMENTS.md:\n   ```bash\n   rm .planning/REQUIREMENTS.md\n   ```\n\n6. Confirm:\n   ```\n   ‚úÖ Requirements archived to milestones/v[X.Y]-REQUIREMENTS.md\n   ‚úÖ REQUIREMENTS.md deleted (fresh one needed for next milestone)\n   ```\n\n**Important:** The next milestone workflow starts with `/gsd:new-milestone` which includes requirements definition. PROJECT.md's Validated section carries the cumulative record across milestones.\n\n</step>\n\n<step name=\"archive_audit\">\n\nMove the milestone audit file to the archive (if it exists):\n\n```bash\n# Move audit to milestones folder (if exists)\n[ -f .planning/v[X.Y]-MILESTONE-AUDIT.md ] && mv .planning/v[X.Y]-MILESTONE-AUDIT.md .planning/milestones/\n```\n\nConfirm:\n```\n‚úÖ Audit archived to milestones/v[X.Y]-MILESTONE-AUDIT.md\n```\n\n(Skip silently if no audit file exists ‚Äî audit is optional)\n\n</step>\n\n<step name=\"update_state\">\n\nUpdate STATE.md to reflect milestone completion.\n\n**Project Reference:**\n\n```markdown\n## Project Reference\n\nSee: .planning/PROJECT.md (updated [today])\n\n**Core value:** [Current core value from PROJECT.md]\n**Current focus:** [Next milestone or \"Planning next milestone\"]\n```\n\n**Current Position:**\n\n```markdown\nPhase: [Next phase] of [Total] ([Phase name])\nPlan: Not started\nStatus: Ready to plan\nLast activity: [today] ‚Äî v[X.Y] milestone complete\n\nProgress: [updated progress bar]\n```\n\n**Accumulated Context:**\n\n- Clear decisions summary (full log in PROJECT.md)\n- Clear resolved blockers\n- Keep open blockers for next milestone\n\n</step>\n\n<step name=\"handle_branches\">\n\nCheck if branching was used and offer merge options.\n\n**Check branching strategy:**\n\n```bash\n# Get branching strategy from config\nBRANCHING_STRATEGY=$(cat .planning/config.json 2>/dev/null | grep -o '\"branching_strategy\"[[:space:]]*:[[:space:]]*\"[^\"]*\"' | sed 's/.*:.*\"\\([^\"]*\\)\"/\\1/' || echo \"none\")\n```\n\n**If strategy is \"none\":** Skip to git_tag step.\n\n**For \"phase\" strategy ‚Äî find phase branches:**\n\n```bash\nPHASE_BRANCH_TEMPLATE=$(cat .planning/config.json 2>/dev/null | grep -o '\"phase_branch_template\"[[:space:]]*:[[:space:]]*\"[^\"]*\"' | sed 's/.*:.*\"\\([^\"]*\\)\"/\\1/' || echo \"gsd/phase-{phase}-{slug}\")\n\n# Extract prefix from template (before first variable)\nBRANCH_PREFIX=$(echo \"$PHASE_BRANCH_TEMPLATE\" | sed 's/{.*//')\n\n# Find all phase branches for this milestone\nPHASE_BRANCHES=$(git branch --list \"${BRANCH_PREFIX}*\" 2>/dev/null | sed 's/^\\*//' | tr -d ' ')\n```\n\n**For \"milestone\" strategy ‚Äî find milestone branch:**\n\n```bash\nMILESTONE_BRANCH_TEMPLATE=$(cat .planning/config.json 2>/dev/null | grep -o '\"milestone_branch_template\"[[:space:]]*:[[:space:]]*\"[^\"]*\"' | sed 's/.*:.*\"\\([^\"]*\\)\"/\\1/' || echo \"gsd/{milestone}-{slug}\")\n\n# Extract prefix from template\nBRANCH_PREFIX=$(echo \"$MILESTONE_BRANCH_TEMPLATE\" | sed 's/{.*//')\n\n# Find milestone branch\nMILESTONE_BRANCH=$(git branch --list \"${BRANCH_PREFIX}*\" 2>/dev/null | sed 's/^\\*//' | tr -d ' ' | head -1)\n```\n\n**If no branches found:** Skip to git_tag step.\n\n**If branches exist ‚Äî present merge options:**\n\n```\n## Git Branches Detected\n\nBranching strategy: {phase/milestone}\n\nBranches found:\n{list of branches}\n\nOptions:\n1. **Merge to main** ‚Äî Merge branch(es) to main\n2. **Delete without merging** ‚Äî Branches already merged or not needed\n3. **Keep branches** ‚Äî Leave for manual handling\n```\n\nUse AskUserQuestion:\n\n```\nAskUserQuestion([\n  {\n    question: \"How should branches be handled?\",\n    header: \"Branches\",\n    multiSelect: false,\n    options: [\n      { label: \"Squash merge (Recommended)\", description: \"Squash all commits into one clean commit on main\" },\n      { label: \"Merge with history\", description: \"Preserve all individual commits (--no-ff)\" },\n      { label: \"Delete without merging\", description: \"Branches already merged or not needed\" },\n      { label: \"Keep branches\", description: \"Leave branches for manual handling later\" }\n    ]\n  }\n])\n```\n\n**If \"Squash merge\":**\n\n```bash\nCURRENT_BRANCH=$(git branch --show-current)\ngit checkout main\n\n# For phase strategy - squash merge each phase branch\nif [ \"$BRANCHING_STRATEGY\" = \"phase\" ]; then\n  for branch in $PHASE_BRANCHES; do\n    echo \"Squash merging $branch...\"\n    git merge --squash \"$branch\"\n    git commit -m \"feat: $branch for v[X.Y]\"\n  done\nfi\n\n# For milestone strategy - squash merge milestone branch\nif [ \"$BRANCHING_STRATEGY\" = \"milestone\" ]; then\n  echo \"Squash merging $MILESTONE_BRANCH...\"\n  git merge --squash \"$MILESTONE_BRANCH\"\n  git commit -m \"feat: $MILESTONE_BRANCH for v[X.Y]\"\nfi\n\ngit checkout \"$CURRENT_BRANCH\"\n```\n\nReport: \"Squash merged branches to main\"\n\n**If \"Merge with history\":**\n\n```bash\nCURRENT_BRANCH=$(git branch --show-current)\ngit checkout main\n\n# For phase strategy - merge each phase branch\nif [ \"$BRANCHING_STRATEGY\" = \"phase\" ]; then\n  for branch in $PHASE_BRANCHES; do\n    echo \"Merging $branch...\"\n    git merge --no-ff \"$branch\" -m \"Merge branch '$branch' for v[X.Y]\"\n  done\nfi\n\n# For milestone strategy - merge milestone branch\nif [ \"$BRANCHING_STRATEGY\" = \"milestone\" ]; then\n  echo \"Merging $MILESTONE_BRANCH...\"\n  git merge --no-ff \"$MILESTONE_BRANCH\" -m \"Merge branch '$MILESTONE_BRANCH' for v[X.Y]\"\nfi\n\ngit checkout \"$CURRENT_BRANCH\"\n```\n\nReport: \"Merged branches to main with full history\"\n\n**If \"Delete without merging\":**\n\n```bash\nif [ \"$BRANCHING_STRATEGY\" = \"phase\" ]; then\n  for branch in $PHASE_BRANCHES; do\n    git branch -d \"$branch\" 2>/dev/null || git branch -D \"$branch\"\n  done\nfi\n\nif [ \"$BRANCHING_STRATEGY\" = \"milestone\" ]; then\n  git branch -d \"$MILESTONE_BRANCH\" 2>/dev/null || git branch -D \"$MILESTONE_BRANCH\"\nfi\n```\n\nReport: \"Deleted branches\"\n\n**If \"Keep branches\":**\n\nReport: \"Branches preserved for manual handling\"\n\n</step>\n\n<step name=\"git_tag\">\n\nCreate git tag for milestone:\n\n```bash\ngit tag -a v[X.Y] -m \"$(cat <<'EOF'\nv[X.Y] [Name]\n\nDelivered: [One sentence]\n\nKey accomplishments:\n- [Item 1]\n- [Item 2]\n- [Item 3]\n\nSee .planning/MILESTONES.md for full details.\nEOF\n)\"\n```\n\nConfirm: \"Tagged: v[X.Y]\"\n\nAsk: \"Push tag to remote? (y/n)\"\n\nIf yes:\n\n```bash\ngit push origin v[X.Y]\n```\n\n</step>\n\n<step name=\"git_commit_milestone\">\n\nCommit milestone completion including archive files and deletions.\n\n**Check planning config:**\n\n```bash\nCOMMIT_PLANNING_DOCS=$(cat .planning/config.json 2>/dev/null | grep -o '\"commit_docs\"[[:space:]]*:[[:space:]]*[^,}]*' | grep -o 'true\\|false' || echo \"true\")\ngit check-ignore -q .planning 2>/dev/null && COMMIT_PLANNING_DOCS=false\n```\n\n**If `COMMIT_PLANNING_DOCS=false`:** Skip git operations\n\n**If `COMMIT_PLANNING_DOCS=true` (default):**\n\n```bash\n# Stage archive files (new)\ngit add .planning/milestones/v[X.Y]-ROADMAP.md\ngit add .planning/milestones/v[X.Y]-REQUIREMENTS.md\ngit add .planning/milestones/v[X.Y]-MILESTONE-AUDIT.md 2>/dev/null || true\n\n# Stage updated files\ngit add .planning/MILESTONES.md\ngit add .planning/PROJECT.md\ngit add .planning/STATE.md\n\n# Stage deletions\ngit add -u .planning/\n\n# Commit with descriptive message\ngit commit -m \"$(cat <<'EOF'\nchore: complete v[X.Y] milestone\n\nArchived:\n- milestones/v[X.Y]-ROADMAP.md\n- milestones/v[X.Y]-REQUIREMENTS.md\n- milestones/v[X.Y]-MILESTONE-AUDIT.md (if audit was run)\n\nDeleted (fresh for next milestone):\n- ROADMAP.md\n- REQUIREMENTS.md\n\nUpdated:\n- MILESTONES.md (new entry)\n- PROJECT.md (requirements ‚Üí Validated)\n- STATE.md (reset for next milestone)\n\nTagged: v[X.Y]\nEOF\n)\"\n```\n\nConfirm: \"Committed: chore: complete v[X.Y] milestone\"\n\n</step>\n\n<step name=\"offer_next\">\n\n```\n‚úÖ Milestone v[X.Y] [Name] complete\n\nShipped:\n- [N] phases ([M] plans, [P] tasks)\n- [One sentence of what shipped]\n\nArchived:\n- milestones/v[X.Y]-ROADMAP.md\n- milestones/v[X.Y]-REQUIREMENTS.md\n\nSummary: .planning/MILESTONES.md\nTag: v[X.Y]\n\n---\n\n## ‚ñ∂ Next Up\n\n**Start Next Milestone** ‚Äî questioning ‚Üí research ‚Üí requirements ‚Üí roadmap\n\n`/gsd:new-milestone`\n\n*(`/clear` first ‚Üí fresh context window)*\n\n---\n```\n\n</step>\n\n</process>\n\n<milestone_naming>\n\n**Version conventions:**\n- **v1.0** ‚Äî Initial MVP\n- **v1.1, v1.2, v1.3** ‚Äî Minor updates, new features, fixes\n- **v2.0, v3.0** ‚Äî Major rewrites, breaking changes, significant new direction\n\n**Name conventions:**\n- v1.0 MVP\n- v1.1 Security\n- v1.2 Performance\n- v2.0 Redesign\n- v2.0 iOS Launch\n\nKeep names short (1-2 words describing the focus).\n\n</milestone_naming>\n\n<what_qualifies>\n\n**Create milestones for:**\n- Initial release (v1.0)\n- Public releases\n- Major feature sets shipped\n- Before archiving planning\n\n**Don't create milestones for:**\n- Every phase completion (too granular)\n- Work in progress (wait until shipped)\n- Internal dev iterations (unless truly shipped internally)\n\nIf uncertain, ask: \"Is this deployed/usable/shipped in some form?\"\nIf yes ‚Üí milestone. If no ‚Üí keep working.\n\n</what_qualifies>\n\n<success_criteria>\n\nMilestone completion is successful when:\n\n- [ ] MILESTONES.md entry created with stats and accomplishments\n- [ ] PROJECT.md full evolution review completed\n- [ ] All shipped requirements moved to Validated in PROJECT.md\n- [ ] Key Decisions updated with outcomes\n- [ ] ROADMAP.md reorganized with milestone grouping\n- [ ] Roadmap archive created (milestones/v[X.Y]-ROADMAP.md)\n- [ ] Requirements archive created (milestones/v[X.Y]-REQUIREMENTS.md)\n- [ ] REQUIREMENTS.md deleted (fresh for next milestone)\n- [ ] STATE.md updated with fresh project reference\n- [ ] Git tag created (v[X.Y])\n- [ ] Milestone commit made (includes archive files and deletion)\n- [ ] User knows next step (/gsd:new-milestone)\n\n</success_criteria>\n"
